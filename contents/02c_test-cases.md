
## Testfälle {#sec:test-cases}

Testfallbeschreibungen bilden den wahrscheinlich wesentlichsten Baustein des Test-Editors, und stellen gleichzeitig das Hauptunterscheidungsmerkmal im Vergleich mit anderen Werkzeugen dar. Testfälle können für sich alleine stehen, beziehen sich im Regelfall aber auf eine zuvor erstellte Testspezifikation, die sie durch Angabe konkreter Ablaufschritte konkretisieren. Die Sprache, in der sie formuliert werden, muss zwei wesentliche Anforderungen erfüllen: zum Einen soll sie von Fachanwendern nachvollzogen und angewendet werden können, zum Anderen muss sie _ausführbar_ sein, damit die Tests automatisch ablaufen können.

Der Test-Editor löst dies, indem er Testern Testschritte anbietet, die in natürlicher Sprache formuliert sind, jedoch über genügend Struktur verfügen, um automatisch in JUnit-Tests übersetzt werden zu können. Damit Tester sich über diese Strukturvorgaben möglichst wenig Gedanken machen müssen, bietet ihnen der Test-Editor eine Reihe von Funktionen, die sie bei der Testfallerstellung unterstützen:

* An jeder Stelle des Testfalldokuments kann die _Autovervollständigung_ aktiviert werden, die eine Liste der im jeweiligen Kontext gültigen nächsten Textbausteine zur Auswahl anbietet. Tester müssen daher weder die genauen Strukturvorgaben noch die verfügbaren Testschritte auswendig kennen.
* Eingaben im Test-Editor durchlaufen eine ständige _Validierung_, sodass Fehleingaben unmittelbar durch eine Markierung an der entsprechenden Stelle direkt im Editor hervorgehoben werden. Dazu gehört eine Fehlermeldung, die erklärt, was das Problem ist und wie der Fehler korrigiert werden kann.
* _Syntaxhervorhebung_ betont die Struktur der Testfälle u.a. durch Farbhervorhebung, was sie leichter lesbar und Fehler leichter erkennbar macht.
* Die _Testschrittübersicht_ am rechten Bildschirmrand ergänzt den Editor um eine hierarchisch sortierte Liste aller verfügbaren Testschritte, die in Testfälle hineinkopiert werden können. Dies ermöglicht einen Gesamtüberblick und erleichtert neuen Testern den Einstieg in den Test-Editor.

![Beispiel für die Testfallerstellung](figures/test-case.gif){#fig:test-gif}

[@fig:test-specification] greift das vorige Beispiel wieder auf und zeigt einen entstehenden Testfall, der die zuvor beschriebene Spezifikation implementiert: die Spezifikationsschritte tauchen hier wieder auf, werden aber jeweils durch Testschritte untermauert. Die Testschritte sind jeweils _Komponenten_ zugeordnet: 
Für den ersten Spezifikationsschritt wird die anwendungsunabhängige Komponente _WebBrowser_ benötigt, die Testschritte zum Starten eines Browsers und zum Navigieren zur URL der zu testenden Anwendung bietet. Zumeist modellieren Komponenten aber Teile der zu testenden Anwendung, wie hier die _Heroes_-Komponente, die die Heldenübersichtsseite repräsentiert. Dies stellt Testschritte zur Verfügung, die Interaktionen mit auf dieser Seite verfügbaren Steuerelementen ermöglichen, wie zum Beispiel das Klicken auf den _Add_-Button und das Eingeben eines Heldennamens in das dafür vorgesehene Textfeld.

In der Animation ist vor allem die oben beschriebene Autovervollständigung gut zu sehen: wesentliche Teile des Testfalls werden gar nicht vom Tester vollständig eingetippt, sondern als fertige Versatzstücke eingefügt und gegebenenfalls angepasst. Zu sehen ist auch, dass Elemente, mit denen interagiert werden soll, in spitze Klammern eingefasst sind, und Werte zur Eingabe in Anführungszeichen. Die Autovervollständigung erübrigt nicht nur, diese Zeichen zu tippen, oder sich zu merken, welche Zeichen jeweils gefordert sind, sondern hilft auch, gültige Werte innerhalb solcher Bereiche auszuwählen: beispielsweise können für die beiden _Click_-Testschritte nur die Schaltflächen ausgewählt werden, die auf der _Heroes_-Seite auch wirklich existieren. Ein Vertippen bei manuell eingegebenen Schaltflächennamen wird sofort durch die Validierung bemerkt und am Zeilenrand markiert.

Der vollständige Testfall für dieses Beispiel findet sich am Ende des entsprechenden [Tutorials auf der offiziellen Test-Editor-Webseite](https://test-editor.github.io/te_markdown/heroes-create-testcase/).